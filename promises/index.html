<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <button>Click</button>


    <script>
    function startGame() {
      // since we expect counter to change over time we are setting it as "let"
        let counter = 0;

        document.querySelector('button').addEventListener('click', () => {
          ++counter;
        });

        return new Promise((resolve, reject) => {
          setTimeout(() => {
            if (counter > 5) {
              resolve();
            } else {
              reject();
            }
          }, 2000)
        })
      }

      startGame()
        .then(() => alert('you win'))
        .catch(() => alert('you lost'));

    </script>

    <!-- <script>
    //This is the code in vanilla JS without any promises
    // since we expect counter to change over time we are setting it as "let"
      let counter = 0;

      document.querySelector('button').addEventListener('click', () => {
        ++counter;
      });

      setTimeout(() => {
        if (counter > 5) {
          alert('you won!!! you clicked ' + counter + ' times');
        } else {
          alert('you lost');
        }
      }, 2000)
    </script> -->
  </body>
</html>
